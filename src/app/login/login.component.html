<!-- src/app/pages/login/login.component.html -->
<div class="page-wrap">
  <div class="login-card" role="main" aria-labelledby="login-heading">
    <div class="brand">
      <svg class="logo" viewBox="0 0 100 100" aria-hidden="true">
        <defs>
          <linearGradient id="g" x1="0" x2="1">
            <stop offset="0%" stop-color="#4f46e5"></stop>
            <stop offset="100%" stop-color="#06b6d4"></stop>
          </linearGradient>
        </defs>
        <circle cx="50" cy="50" r="46" fill="url(#g)"></circle>
        <text
          x="50%"
          y="56%"
          text-anchor="middle"
          font-size="42"
          fill="white"
          font-family="Verdana"
        >
          M
        </text>
      </svg>
      <h1 id="login-heading">Welcome back</h1>
      <p class="sub">Sign in to access your dashboard</p>
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form">
      <label class="field">
        <span class="label-text">Email</span>
        <input
          type="email"
          formControlName="email"
          [class.invalid]="f.email.touched && f.email.invalid"
          placeholder="you@company.com"
          autocomplete="email"
        />
        <small class="error" *ngIf="f.email.touched && f.email.invalid">
          <span *ngIf="f.email.errors?.required">Email is required.</span>
          <span *ngIf="f.email.errors?.email">Enter a valid email.</span>
        </small>
      </label>

      <label class="field">
        <span class="label-text">Password</span>
        <div class="password-wrap">
          <input
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            [class.invalid]="f.password.touched && f.password.invalid"
            placeholder="••••••••"
            autocomplete="current-password"
          />
          <button
            type="button"
            class="eye"
            (click)="togglePassword()"
            aria-label="Toggle password visibility"
          >
            <svg
              *ngIf="!showPassword"
              viewBox="0 0 24 24"
              width="18"
              height="18"
            >
              <path
                fill="currentColor"
                d="M12 5c-7 0-11 7-11 7s4 7 11 7 11-7 11-7-4-7-11-7zm0 11a4 4 0 110-8 4 4 0 010 8z"
              />
              <circle cx="12" cy="12" r="2.5" fill="white" />
            </svg>
            <svg
              *ngIf="showPassword"
              viewBox="0 0 24 24"
              width="18"
              height="18"
            >
              <path
                fill="currentColor"
                d="M2 2l20 20-1.4 1.4L.6 3.4 2 2zM12 5c7 0 11 7 11 7-.9 1.5-2.3 2.8-4 3.7l-1.5-1.5A4.02 4.02 0 0012 9c-.6 0-1.1.1-1.6.3L8.7 7.6A10.12 10.12 0 0112 5z"
              />
            </svg>
          </button>
        </div>
        <small class="error" *ngIf="f.password.touched && f.password.invalid">
          <span *ngIf="f.password.errors?.required">Password is required.</span>
          <span *ngIf="f.password.errors?.minlength"
            >Minimum 6 characters.</span
          >
        </small>
      </label>
      <div *ngIf="errorMessage" class="server-error" role="alert">
        {{ errorMessage }}
      </div>

      <button type="submit" class="submit" [disabled]="submitting">
        <span *ngIf="!submitting">Sign in</span>
        <span *ngIf="submitting" class="spinner" aria-hidden="true"></span>
      </button>
    </form>
  </div>
</div>
